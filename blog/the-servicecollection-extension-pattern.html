<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2MN7C3CEX2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-2MN7C3CEX2');
    </script>
    <title>Stefan Đokić</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description"
        content="The personal website of Stefan Djokic, featuring information about his background, experience, and interests.">
    <meta name="keywords" content="Stefan Djokic, personal website, bio, background, experience, interests">
    <meta name="author" content="Stefan Djokic">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/icomoon.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar ftco-navbar-light site-navbar-target" id="ftco-navbar">
        <div class="container">
            <a class="navbar-brand" href="/">Stefan Đokić</a>
            <button class="navbar-toggler js-fh5co-nav-toggle fh5co-nav-toggle" type="button" data-toggle="collapse"
                data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="oi oi-menu"></span> Menu
            </button>
            <div class="collapse navbar-collapse" id="ftco-nav">
                <ul class="navbar-nav nav ml-auto">
                    <li class="nav-item"><a href="/" class="nav-link"><span>Home</span></a></li>
                    <li class="nav-item" data-toggle="collapse" data-target="#ftco-nav"><a href="/blog.html"
                            class="nav-link"><span>Blog</span></a></li>
                    <li class="nav-item" data-toggle="collapse" data-target="#ftco-nav"><a
                            href="/stefans-newsletter-sponsorship-opportunity.html"
                            class="nav-link"><span>Sponsorship</span></a></li>

                </ul>
            </div>
        </div>
    </nav>
    <section class="ftco-about img ftco-section ftco-no-pb" id="social-proof" style="margin-top: 50px;">
        <div class="container">
            <div class="justify-content-center pb-5">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 heading-section text-center ">
                    <h2 class="blog-header">#19 Stefan's Newsletter</h2>
                    <h2 class="blog-header2">The ServiceCollection Extension Pattern</h2>
                    <h6>June 19 2023</h6>
                </div>
            </div>
            <div class="container d-flex">
                <div class="col-sm-12 col-md-12 col-lg-12 pb-5 blog-content">
                    <h5>
                        <b>Many thanks to the sponsors who make it possible for this newsletter to be free for
                            readers.</b>
                    </h5> <br>
                    <h5>
                        Today's issue is sponsored by <a href="https://www.packtpub.com/" target="_blank">Packt</a>
                    </h5> <br>
                    <h5>
                        Upgrade your Kubernetes expertise with <b>"Mastering Kubernetes"</b> 4th edition. Discover
                        advanced concepts in autoscaling, multi-cluster management, serverless computing, and service
                        meshes. Build, deploy, and secure large-scale distributed systems with confidence.

                        Know more: <a href="https://packt.link/7DfTR" target="_blank">https://packt.link/7DfTR</a>.
                    </h5> <br>
                    <hr style="background-color: white;">
                    <h3 class="text-center mb-5" style="color: #ffbd39">Background</h3>
                    <h5>
                        In the .NET environment, Dependency Injection (DI) is a fundamental technique that helps us to
                        create flexible, testable, and loosely coupled code. It's an instance of the Inversion of
                        Control (IoC) principle, where the control of creating objects is handled by a container or a
                        framework, rather than by the classes themselves.
                    </h5> <br>
                    <h5>
                        The <b>IServiceCollection interface</b> represents a contract for a collection of service
                        descriptors, providing an abstraction to add, remove, and retrieve services. This interface
                        becomes very important in the Program.cs class. Here, we inject all of the necessary services
                        that our application requires.
                    </h5> <br>
                    <h3 class="text-center mb-5" style="color: #ffbd39">The ServiceCollection Extension Pattern
                    </h3>
                    <h5>In larger applications, Program.cs can become bloated and messy. To avoid this, we can utilize a
                        pattern called the <b>ServiceCollection Extension Pattern</b>. This pattern lets us encapsulate
                        the service registration logic into separate static classes, providing a more organized and
                        readable structure.
                    </h5>
                    <br>
                    <h5>The pattern involves creating extension methods on the <b>IServiceCollection interface</b>. The
                        benefit of this approach is the ability to organize related services into logical groups, making
                        it easier to manage the services we're adding.
                        <br>
                        <img src="/images/blog/newsletter19/1.png"
                            style="margin-top: 10px; margin-bottom: 10px; width: 100%;">
                        <h5>
                            And then in your Program.cs file, you can leverage these extensions like this:
                        </h5>
                        <img src="/images/blog/newsletter19/2.png"
                            style="margin-top: 10px; margin-bottom: 10px; width: 100%;"><br><br>
                        <h3 class="text-center mb-5" style="color: #ffbd39">The Real-world Example
                        </h3>
                        <h5>We can further categorize our services using this pattern, for example, by creating
                            different extension methods for different types or layers of services.</h5>
                        <br>
                        <h5>Let's consider an application that uses Entity Framework Core for data access, Identity for
                            authentication and authorization, and also needs to configure CORS (Cross-Origin Resource
                            Sharing).
                        </h5>
                        <br>
                        <h5>Here's how you might apply the ServiceCollection Extension Pattern in such a scenario.
                        </h5>
                        <br>
                        <h5>
                            Database:
                        </h5>
                        <br>
                        <img src="/images/blog/newsletter19/3.png"
                            style="margin-top: 10px; margin-bottom: 10px; width: 100%;">
                        <h5>
                            Identity:
                        </h5>
                        <img src="/images/blog/newsletter19/4.png"
                            style="margin-top: 10px; margin-bottom: 10px; width: 100%;"><br>
                        <h5>
                            JWT Authentication:
                        </h5>
                        <img src="/images/blog/newsletter19/5.png"
                            style="margin-top: 10px; margin-bottom: 10px; width: 100%;"><br>
                        <h5>
                            Cors Policy:
                        </h5>
                        <img src="/images/blog/newsletter19/6.png"
                            style="margin-top: 10px; margin-bottom: 10px; width: 100%;"><br>
                        <h5>
                            And then in your Program.cs file, you can leverage these extensions like this:
                        </h5>
                        <img src="/images/blog/newsletter19/7.png"
                            style="margin-top: 10px; margin-bottom: 10px; width: 100%;"><br><br>

                        <h3 class="text-center mb-5" style="color: #ffbd39">Why should we consider using it?
                        </h3>
                        <h4 class="mb-5" style="color: #ffbd39">1. Organization and Readability
                        </h4>
                        <h5>In a large application with a myriad of services, the Program.cs can quickly become bloated
                            and messy. This makes it difficult for a developer to comprehend what's going on at a
                            glance. By utilizing the ServiceCollection Extension Pattern, we can neatly encapsulate the
                            service registration into logical groups of related services. This improves the readability
                            of your code and makes it easier to understand, which is especially valuable in team
                            environments.
                        </h5>
                        <br>
                        <h4 class="mb-5" style="color: #ffbd39">2. Encapsulation
                        </h4>
                        <h5>The ServiceCollection Extension Pattern follows the principle of Encapsulation, a core tenet
                            of object-oriented programming. Encapsulation enables us to hide the complexity of service
                            registrations behind a set of methods. This shields other parts of your application from the
                            intricacies of these operations, and provides a clean and simple interface to register
                            services.
                        </h5>
                        <br>

                        <h4 class="mb-5" style="color: #ffbd39">3. Maintainability
                        </h4>
                        <h5>Applications are bound to evolve over time. The services you start with may not be the ones
                            you end with. With the ServiceCollection Extension Pattern, it's easier to modify, add, or
                            remove service registrations. Since you have logically separated your service registrations,
                            you can find and alter the specific group you need without hunting through a potentially
                            large Program.cs.
                        </h5>
                        <br>

                        <h4 class="mb-5" style="color: #ffbd39">​4. Reusability
                        </h4>
                        <h5>If you have common sets of services used across multiple projects, you can reuse your
                            extension methods in different applications. This cuts down on duplicated code, saving you
                            time and reducing the potential for errors.
                        </h5>
                        <br>
                        <br>
                        <h3 class="text-center mb-5" style="color: #ffbd39">Wrapping Up
                        </h3>
                        <h5>The ServiceCollection Extension Pattern is a valuable tool in keeping your Program.cs tidy
                            and maintainable, particularly for larger applications. By encapsulating the service
                            registration logic into separate methods, we can improve the organization and readability of
                            our service registration code.
                        </h5>
                        <br>
                        <h5>
                            That's all from me for today. </h5>
                        <br>
                        <h3 class="text-center"><b>Dream <span style="font-size: 50px;">big!</span></b></h3>
                        <div class="row" style="margin-top: 50px">
                            <div class="col-md-3"></div>
                            <div class="col-md-6 text-center">
                                <h5 style="text-align: center; ">
                                    Join the 6200+ engineers who get tips like this <span style="color: #ffbd39;">every
                                        Monday</span> straight to their inbox.
                                </h5>
                                <script async src="https://eocampaign1.com/form/33e483be-a0b1-11ed-b1bd-9b9d338510f2.js"
                                    data-form="33e483be-a0b1-11ed-b1bd-9b9d338510f2"></script>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </section>

    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.waypoints.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/main.js"></script>
</body>

</html>