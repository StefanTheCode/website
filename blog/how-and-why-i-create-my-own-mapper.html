<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2MN7C3CEX2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-2MN7C3CEX2');
    </script>
    <title>Stefan Đokić</title>
    <link rel="icon" type="image/x-icon" href="/images/favicon.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description"
        content="The personal website of Stefan Djokic, featuring information about his background, experience, and interests.">
    <meta name="keywords" content="Stefan Djokic, personal website, bio, background, experience, interests">
    <meta name="author" content="Stefan Djokic">
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet">
    <link rel="stylesheet" href="/css/animate.css">
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/icomoon.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar ftco-navbar-light site-navbar-target" id="ftco-navbar">
		<div class="container">
			<a class="navbar-brand" href="/">Stefan Đokić</a>
			<button class="navbar-toggler js-fh5co-nav-toggle fh5co-nav-toggle" type="button" data-toggle="collapse"
				data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="oi oi-menu"></span> Menu
			</button>
			<div class="collapse navbar-collapse" id="ftco-nav">
				<ul class="navbar-nav nav ml-auto">
					<li class="nav-item"><a href="/" class="nav-link"><span>Home</span></a></li>
					<li class="nav-item" data-toggle="collapse" data-target="#ftco-nav"><a href="/blog.html"
							class="nav-link"><span>Blog</span></a></li>
							<li class="nav-item" data-toggle="collapse" data-target="#ftco-nav"><a href="/stefans-newsletter-sponsorship-opportunity.html"
								class="nav-link"><span>Sponsorship</span></a></li>

				</ul>
			</div>
		</div>
	</nav>
    <section class="ftco-about img ftco-section ftco-no-pb" id="social-proof" style="margin-top: 50px;">
        <div class="container">
            <div class="justify-content-center pb-5">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 heading-section text-center ">
                    <h2 class="blog-header">#3 Stefan's Newsletter</h2>
                    <h2 class="blog-header2">How and why I create my own mapper (avoid Automapper)?</h2>
                    <h6>February 27 2023</h6>
                </div>
            </div>
            <div class="container d-flex">
                <div class="col-sm-12 col-md-12 col-lg-12 pb-5">
                    <h3 class="text-center mb-5" style="color: #ffbd39">The background</h3>
                    <h5>
                        Automapper is a popular library in the .NET ecosystem that can help developers automate the
                        mapping of data between different object models.
                    </h5> <br>
                    <h5>
                        In the beginning I used Automapper constantly and it was a great replacement for the tedious
                        work of typing mapping code. Until the moment when I encountered bigger projects where using
                        Automapper only caused me big problems. </h5>
                    <h5>Here I will share my experiences and ways to replace Automapper.
                    </h5>
                    <h3 class="text-center mb-5 mt-5" style="color: #ffbd39;margin-top: -40px;">Why am I not using
                        Automapper?</h3>
                    <h5><b>• Poor code navigation experience</b></h5>
                    <h5>When using the default configuration of Automapper to map objects,
                        it can be difficult to trace where a particular field is getting its value from. Even with
                        helpful tools like Visual Studio or Rider and using the "Find Usages" feature, it's not possible
                        to locate the assignment or usage of that field.</h5>

                    <h5 class="mt-5"><b>• Hard to debug</b></h5>
                    <h5>The problem here: fluent configuration. I cannot explain this
                        better than: "Even if you provide mapping code within MapFrom<> method, you can’t put there a
                            breakpoint and expect that program invocation stops when you call Mapper.Map<>() method. And
                                if you have a bug in your mapping code you don’t get an exception in the place where you
                                could potentially expect it." - Cezary Piatek</h5>

                    <h5 class="mt-5"><b>• Performance</b></h5>
                    <h5>AutoMapper can impact the performance of your application, as it
                        takes some time to load during project startup and when mapping between objects. However, in
                        most cases, this should not cause any significant issues.</h5>

                    <h3 class="text-center mb-5 mt-5" style="margin-top: -40px;">So what do I do?</h3>
                    <h3 class="text-center mb-5" style="color: #ffbd39;margin-top: -40px;">I create my own mapper</h3>
                    <h5>
                        Depending on the complexity of the project and what I want to achieve, I choose a certain way of
                        implementing mapping. In the following, I will highlight a few general ways that I use
                        regularly.
                    </h5>

                    <h3 class="text-center mb-5 mt-5" style="color: #ffbd39;margin-top: -40px;">#1 Using reflection</h3>

                    <h5>

                        If I don't have many properties to map, all property names that I need to map in both objects
                        are identical, and performance is not the most important thing for me at the moment (although
                        this is certainly faster than Automapper), I use simple reflection to map all properties.

                    </h5><br>
                    <img src="/images/blog/newsletter3/mapper-using-relfeciton.png"
                        style="margin-top: 10px; margin-bottom: 10px; width: 100%;">
                    <h5 style="text-align: justify; margin-top: 20px;">
                        Usage:
                    </h5><br>
                    <img src="/images/blog/newsletter3/usage-of-mapper-using-reflection.png"
                        style="margin-bottom: 10px; width: 100%;">
                    <h5 style="text-align: justify; margin-top: 20px;">
                        <b>Potential problem:</b>
                    </h5><br>
                    <h5>
                        The names of the properties in User and UserModel are different.
                        <b>The solution is to introduce projection by implementing the .Project() method </b> that will
                        enable such mapping.
                    </h5><br>
                    <h3 class="text-center mb-5 mt-5" style="color: #ffbd39;margin-top: -40px;">#2 Specific Mapper Service</h3>
                    <h5>
                        This is the most common way I implement mapping. For a certain entity/DTO, I'm creating a service class that I put in DI. Inside the service class, I implement both mappings. This way I have complete control over the mapping with tremendous ease in debugging and testing the code. </h5>
                    <img src="/images/blog/newsletter3/custom mapper serice.png"
                        style="margin-top: 10px; margin-bottom: 10px; width: 100%;">
                        <h5 style="text-align: justify; margin-top: 20px;">
                            Usage:
                        </h5><br>
                        <img src="/images/blog/newsletter3/usage custom mapper service.png"
                            style="margin-bottom: 10px; width: 100%;">
                            <h5 style="text-align: justify; margin-top: 20px;">
                                <b>Potential problem:</b>
                            </h5><br>
                            <h5>
                                Very boring and tedious work - manually writing property mappings.
                            </h5><br>
                            <h5>
                                I have a solution for you: <b>Mapping Generator (Visual Studio plugin)</b> which is able to scaffold mapping code in design time.
                            </h5><br>
                            <img src="/images/blog/newsletter3/mappergenerator.gif"
                            style="margin-bottom: 10px; width: 100%;">
                    <h3 class="text-center mb-5 mt-5" style="color: #ffbd39;margin-top: -40px;">#3 EF .Select() method</h3>
                    <h5>
                        I use the .Select() method from EntityFramework mainly when I directly map entities from the domain/database to the DTO without any changes. In an ideal world, I believe there is nothing better than this mapping.
                    </h5>
                    <br>
                    <img src="/images/blog/newsletter3/entity framework select method.png"
                    style="margin-bottom: 10px; width: 100%;">
                    <br>
                    <h5>
                       
That's all from me for today.
                    </h5>
                    <br>

                    <h5>
                        Make a coffee and check out source code directly on my <a
                            href="https://github.com/StefanTheCode/Newsletter" target="_blank"> GitHub repository</a>.
                    </h5>
                    <br>
                    <h3 class="text-center"><b>Dream <span style="font-size: 50px;">big!</span></b></h3>
                    <div class="row" style="margin-top: 50px">
                        <div class="col-md-3"></div>
                        <div class="col-md-6 text-center">
                            <h5 style="text-align: center; ">
                                Join the 2550+ engineers who get tips like this every Monday straight to their inbox.
                            </h5>
                            <script async src="https://eocampaign1.com/form/33e483be-a0b1-11ed-b1bd-9b9d338510f2.js"
                                data-form="33e483be-a0b1-11ed-b1bd-9b9d338510f2"></script>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>
  
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.waypoints.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/main.js"></script>

</body>

</html>